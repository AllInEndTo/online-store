# Fullstack Online store

## Backend Part.

### Как шёл процесс:

#### Первым делом подключился к базе данных, использовал PostgreSQL. По диаграмме базы данных построил модели данных, установил связи между ними. После написал роутинг для типов устройств, брендов, корзины, пользователей. В файле index.js объединил все маршруты. Для каждого написал контроллеры, лежат в папке controllers. Создал универсальный хендлер ApiError, который принимает status и message. Сделал CRUD для типов, брендов, устройств. После сделал раздачу статики, получение устройств, фильтрацию, пагинацию. Авторизация проходит по JWT токену, хеширование паролей делал с bcrypt. В конце всего этого написал 2 мидлвара, один проверяет авторизован ли пользователь, второй узнаёт какая роль у пользователя, чтобы создавать товар в каталоге мог только администратор.

#### Для отслеживания процесса разработки пользовался Postman, чтобы видеть всё ли я сделал правильно, улетают ли и прилетают get, post запросы.

### Какие выводы сделал, чему научился:

#### Понял принцип работы авторизации, как улетают и прилетают запросы от сервера, узнал пару новых библиотек, понял принцип работы jwt токена. Считаю это полезным опытом, понимать как работает серверная составляющая, так приходит лучшее понимание принципа работы приложения в целом. Сделал не все функции, что-то, я уверен, сделал очень криво, но я считаю, что проект с плохим бэкендом лучше, чем проект вовсе без него.

## Frontend Part.

#### Начал с построения структуры приложения, создал нужные папки, отсортировал всё по ним. Затем сделал навигацию, роутинг (Routes, Route, AppRouter, Redirect). После использовал библиотеку MobX, сделал глобальный стейт. Первый раз работал с библиотекой, понравилось. Сделал страницу регистрации, авторизации, главную страницу. Написал список товаров, типов, брендов. После была написана страница просмотра товара и его характеристик. Сделал страницу администратора и модальные окна, можно добавлять типы электроники, бренды и саму технику. Настроил axios и взаимодействие с сервером, в самом конце сделал пагинацию.

### Итоги работы:

#### Проект был трудным, но очень интересным. Как и свойственно всем начинающим, я допустил где-то ошибку, скорее всего, по невнимательности, из-за чего страница администратора не открывается, хотя, когда нажимаю на соответствующую кнопку, страница перерисовывается. Я сделал вывод что либо сразу после перехода вызывается закрытие страницы админа, якобы товар добавлен. Так же есть сомнения, что не удается связаться с базой данных товара, либо узнать роль пользователя (USER/ADMIN), т.к. роль проверяется после дешифрации токена, и поэтому не получается зайти. Если вручную прописать роль администратора, зайти можно, но, если что-то добавить в бд, то сервер падает. Из-за нехватки опыта не смог найти и исправить ошибку, но я уверен, что она достаточно незначительная и, когда я стану опытнее, смогу её решить, и довести проект до MVP. Сейчас же мне нужно набираться больше опыта в подобных больших (относительно для меня) проектах.

### Как запустить проект

#### По открытии приложения, в консоли прописываем `cd server`, переходим в папку, в которой лежит вся серверная часть, запускаем сервер командой `npm run dev`. Открываем второй терминал, в нем командой `cd client` переходим в папку с клиентской частью и запускаем проект командой `npm start`.
#### Лучше запустить в порядке каком я написал (сначала сервер), чтобы при запуске клиентской части она могла сразу связаться с сервером и показать товары.